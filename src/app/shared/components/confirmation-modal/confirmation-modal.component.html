<p-dialog 
  [(visible)]="visible"
  [header]="title"
  [modal]="true"
  [style]="{width: '450px'}"
  [draggable]="false"
  [resizable]="false"
  (onHide)="onCancel()">
  
  <div class="flex flex-col items-center text-center py-4">
    <!-- Icon -->
    <div class="w-16 h-16 rounded-full flex items-center justify-center mb-4 bg-mlm-background">
      <i [class]="icon + ' text-3xl ' + iconClass"></i>
    </div>

    <!-- Message -->
    <p class="text-mlm-text mb-4">{{ message }}</p>

    <!-- Reason Field -->
    @if (showReasonField) {
      <div class="w-full text-left">
        <label class="block text-sm font-medium text-mlm-text mb-2">
          Reason {{ reasonRequired ? '*' : '(Optional)' }}
        </label>
        <textarea 
          [(ngModel)]="reason"
          [placeholder]="reasonPlaceholder"
          rows="3"
          class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-mlm-primary/50 focus:border-mlm-primary resize-none">
        </textarea>
        @if (reasonRequired && !reason.trim()) {
          <small class="text-mlm-error">Reason is required</small>
        }
      </div>
    }
  </div>

  <ng-template pTemplate="footer">
    <div class="flex justify-end gap-2">
      <button 
        pButton 
        [label]="cancelLabel" 
        class="p-button-text p-button-secondary"
        (click)="onCancel()">
      </button>
      <button 
        pButton 
        [label]="confirmLabel"
        [class]="confirmClass"
        [disabled]="showReasonField && reasonRequired && !reason.trim()"
        (click)="onConfirm()">
      </button>
    </div>
  </ng-template>
</p-dialog>

